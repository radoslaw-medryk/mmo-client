{"version":3,"sources":["webpack://mmo-client/./src/index.ts","webpack://mmo-client/./src/dummy/dummyStep.ts","webpack://mmo-client/./src/dummy/startDummy.ts","webpack://mmo-client/./src/game/Game.ts","webpack://mmo-client/./src/utils/CustomEvent.ts","webpack://mmo-client/./src/utils/getChangeValue.ts","webpack://mmo-client/./src/utils/randomIntBetween.ts","webpack://mmo-client/./src/visual/Visual.ts","webpack://mmo-client/webpack/bootstrap"],"names":["startDummy_1","Game_1","Visual_1","game","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","dummyStep","randomIntBetween_1","dx","dy","_a","randomIntBetween","changePlayerPosition","x","startDummy","dummyStep_1","dummyPromise","isDummyRunning","setTimeout","runDummy","Game","CustomEvent_1","getChangeValue_1","state","onPlayerPositionChanged","CustomEvent","prototype","change","getChangeValue","playerPos","Math","max","trigger","subscribers","on","subscriber","includes","off","index","findIndex","q","splice","args","_i","arguments","promises","map","all","prev","a","b","floor","random","Visual","subscribeToGame","console","log","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar startDummy_1 = require(\"./dummy/startDummy\");\nvar Game_1 = require(\"./game/Game\");\nvar Visual_1 = require(\"./visual/Visual\");\nvar game = new Game_1.Game({ playerPos: { x: 100, y: 100 } });\nvar visual = new Visual_1.Visual(game);\nstartDummy_1.startDummy(game);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dummyStep = void 0;\nvar randomIntBetween_1 = require(\"../utils/randomIntBetween\");\nfunction dummyStep(game) {\n    return __awaiter(this, void 0, void 0, function () {\n        var dx, dy;\n        return __generator(this, function (_a) {\n            dx = randomIntBetween_1.randomIntBetween(-100, 100);\n            dy = randomIntBetween_1.randomIntBetween(-100, 100);\n            game.changePlayerPosition(function (_a) {\n                var x = _a.x, y = _a.y;\n                return ({ x: x + dx, y: y + dy });\n            });\n            return [2 /*return*/];\n        });\n    });\n}\nexports.dummyStep = dummyStep;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.startDummy = void 0;\nvar dummyStep_1 = require(\"./dummyStep\");\nfunction startDummy(game) {\n    var isDummyRunning = true;\n    var dummyPromise;\n    function stopDummy() {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        isDummyRunning = false;\n                        return [4 /*yield*/, dummyPromise];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }\n    function runDummy() {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!isDummyRunning) return [3 /*break*/, 3];\n                        return [4 /*yield*/, dummyStep_1.dummyStep(game)];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, 200); })];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 0];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    }\n    dummyPromise = runDummy();\n    return stopDummy;\n}\nexports.startDummy = startDummy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Game = void 0;\nvar CustomEvent_1 = require(\"../utils/CustomEvent\");\nvar getChangeValue_1 = require(\"../utils/getChangeValue\");\nvar Game = /** @class */ (function () {\n    function Game(state) {\n        this.onPlayerPositionChanged = new CustomEvent_1.CustomEvent();\n        this.state = state;\n    }\n    Game.prototype.changePlayerPosition = function (change) {\n        var _a = getChangeValue_1.getChangeValue(this.state.playerPos, change), x = _a.x, y = _a.y;\n        x = Math.max(0, x);\n        y = Math.max(0, y);\n        this.state.playerPos.x = x;\n        this.state.playerPos.y = y;\n        this.onPlayerPositionChanged.trigger(this.state.playerPos);\n    };\n    return Game;\n}());\nexports.Game = Game;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomEvent = void 0;\nvar CustomEvent = /** @class */ (function () {\n    function CustomEvent() {\n        this.subscribers = [];\n    }\n    CustomEvent.prototype.on = function (subscriber) {\n        if (this.subscribers.includes(subscriber)) {\n            return;\n        }\n        this.subscribers.push(subscriber);\n    };\n    CustomEvent.prototype.off = function (subscriber) {\n        var index = this.subscribers.findIndex(function (q) { return q === subscriber; });\n        if (index < 0) {\n            return;\n        }\n        this.subscribers.splice(index, 1);\n    };\n    CustomEvent.prototype.trigger = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var promises;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        promises = this.subscribers.map(function (q) { return q.apply(void 0, args); });\n                        return [4 /*yield*/, Promise.all(promises)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return CustomEvent;\n}());\nexports.CustomEvent = CustomEvent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getChangeValue = void 0;\nfunction getChangeValue(prev, change) {\n    if (typeof change === \"function\") {\n        return change(prev);\n    }\n    return change;\n}\nexports.getChangeValue = getChangeValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomIntBetween = void 0;\nfunction randomIntBetween(a, b) {\n    return Math.floor(Math.random() * (b - a)) + a;\n}\nexports.randomIntBetween = randomIntBetween;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Visual = void 0;\nvar Visual = /** @class */ (function () {\n    function Visual(game) {\n        this.game = game;\n        this.subscribeToGame();\n    }\n    Visual.prototype.subscribeToGame = function () {\n        this.game.onPlayerPositionChanged.on(this.onPlayerPositionChanged);\n    };\n    Visual.prototype.onPlayerPositionChanged = function (_a) {\n        var x = _a.x, y = _a.y;\n        console.log(\">>> NEW POS: x = \" + x + \", y = \" + y + \".\");\n    };\n    return Visual;\n}());\nexports.Visual = Visual;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n"],"sourceRoot":""}
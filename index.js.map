{"version":3,"sources":["webpack://mmo-client/./src/utils/randomColor.ts","webpack://mmo-client/./src/utils/randomNumber.ts","webpack://mmo-client/./src/utils/sure.ts","webpack://mmo-client/./src/visual/canvas/Canvas.ts","webpack://mmo-client/./src/visual/chunk/Chunk.ts","webpack://mmo-client/./src/visual/layer/Layer.ts","webpack://mmo-client/./src/visual/layer/logic/getChunkPosition.ts","webpack://mmo-client/./src/visual/layer/logic/getViewPortGamePxCoords.ts","webpack://mmo-client/./src/visual/mountable/Mountable.ts","webpack://mmo-client/webpack/bootstrap","webpack://mmo-client/webpack/runtime/make namespace object","webpack://mmo-client/./src/index.ts"],"names":["Object","defineProperty","exports","value","randomColor","randomNumber_1","r","randomNumber","g","b","toString","padStart","min","max","Math","floor","random","sure","Error","extendStatics","__extends","this","d","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","Canvas","sure_1","_super","visualConsts","_this","canvas","document","createElement","tileSize","chunkSize","canvasPxSizeWidth","pxWidth","tilesWidth","canvasPxSizeHeight","pxHeight","tilesHeight","width","height","context","getContext","mount","parent","unmount","fillTile","tileX","tileY","color","canvasPxX","canvasPxY","fillStyle","fillRect","Mountable","Chunk","Canvas_1","chunkSettings","container","Layer","randomColor_1","Chunk_1","Mountable_1","getChunkPosition_1","getViewPortGamePxCoords_1","chunks","layerState","center","gamePxX","gamePxY","syncChunks","viewPort","getViewPortGamePxCoords","viewPortTopLeftChunk","getChunkPosition","topLeft","viewPortBottomRightChunk","bottomRight","removeChunksOutside","createMissingChunksInside","__paintChunksRandomly","_i","_a","length","chunk","x","y","topLeftChunk","bottomRightChunk","i","chunkPosX","position","chunksX","chunkPosY","chunksY","console","log","splice","_loop_1","chunkX","_loop_2","chunkY","this_1","some","q","push","gamePxPosition","chunkPxWidth","chunkPxHeight","viewPortSize","viewPortGamePxWidth","viewPortGamePxHeight","current","appendChild","removeChild","undefined","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","Symbol","toStringTag","Layer_1","root","body","layer"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomColor = void 0;\nvar randomNumber_1 = require(\"./randomNumber\");\nfunction randomColor() {\n    var r = randomNumber_1.randomNumber(0, 256);\n    var g = randomNumber_1.randomNumber(0, 256);\n    var b = randomNumber_1.randomNumber(0, 256);\n    var rx = r.toString(16).padStart(2, \"0\");\n    var gx = g.toString(16).padStart(2, \"0\");\n    var bx = b.toString(16).padStart(2, \"0\");\n    return \"#\" + rx + gx + bx;\n}\nexports.randomColor = randomColor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomNumber = void 0;\nfunction randomNumber(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min;\n}\nexports.randomNumber = randomNumber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sure = void 0;\nfunction sure(value) {\n    if (value === null || value === undefined) {\n        throw new Error(\"value === null || value === undefined\");\n    }\n    return value;\n}\nexports.sure = sure;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Canvas = void 0;\nvar sure_1 = require(\"../../utils/sure\");\nvar Mountable_1 = require(\"../mountable/Mountable\");\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(visualConsts) {\n        var _this = _super.call(this) || this;\n        _this.visualConsts = visualConsts;\n        _this.canvas = document.createElement(\"canvas\");\n        var tileSize = visualConsts.tileSize, chunkSize = visualConsts.chunkSize;\n        var canvasPxSizeWidth = tileSize.pxWidth * chunkSize.tilesWidth;\n        var canvasPxSizeHeight = tileSize.pxHeight * chunkSize.tilesHeight;\n        _this.canvas.width = canvasPxSizeWidth;\n        _this.canvas.height = canvasPxSizeHeight;\n        _this.context = sure_1.sure(_this.canvas.getContext(\"2d\"));\n        return _this;\n    }\n    Canvas.prototype.mount = function (parent) {\n        _super.prototype.mount.call(this, parent, this.canvas);\n    };\n    Canvas.prototype.unmount = function () {\n        _super.prototype.unmount.call(this, this.canvas);\n    };\n    Canvas.prototype.fillTile = function (tileX, tileY, color) {\n        var tileSize = this.visualConsts.tileSize;\n        var canvasPxX = tileSize.pxWidth * tileX;\n        var canvasPxY = tileSize.pxHeight * tileY;\n        this.context.fillStyle = color;\n        this.context.fillRect(canvasPxX, canvasPxY, tileSize.pxWidth, tileSize.pxHeight);\n    };\n    return Canvas;\n}(Mountable_1.Mountable));\nexports.Canvas = Canvas;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chunk = void 0;\nvar Canvas_1 = require(\"../canvas/Canvas\");\nvar Mountable_1 = require(\"../mountable/Mountable\");\nvar Chunk = /** @class */ (function (_super) {\n    __extends(Chunk, _super);\n    function Chunk(visualConsts, chunkSettings) {\n        var _this = _super.call(this) || this;\n        _this.visualConsts = visualConsts;\n        _this.chunkSettings = chunkSettings;\n        _this.container = document.createElement(\"div\");\n        _this.canvas = new Canvas_1.Canvas(visualConsts);\n        _this.canvas.mount(_this.container);\n        return _this;\n    }\n    Chunk.prototype.mount = function (parent) {\n        _super.prototype.mount.call(this, parent, this.container);\n    };\n    Chunk.prototype.unmount = function () {\n        _super.prototype.unmount.call(this, this.container);\n    };\n    Chunk.prototype.fillTile = function (tileX, tileY, color) {\n        this.canvas.fillTile(tileX, tileY, color);\n    };\n    return Chunk;\n}(Mountable_1.Mountable));\nexports.Chunk = Chunk;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layer = void 0;\nvar randomColor_1 = require(\"../../utils/randomColor\");\nvar Chunk_1 = require(\"../chunk/Chunk\");\nvar Mountable_1 = require(\"../mountable/Mountable\");\nvar getChunkPosition_1 = require(\"./logic/getChunkPosition\");\nvar getViewPortGamePxCoords_1 = require(\"./logic/getViewPortGamePxCoords\");\nvar Layer = /** @class */ (function (_super) {\n    __extends(Layer, _super);\n    function Layer(visualConsts) {\n        var _this = _super.call(this) || this;\n        _this.chunks = [];\n        _this.visualConsts = visualConsts;\n        _this.layerState = {\n            center: {\n                gamePxX: 0,\n                gamePxY: 0,\n            },\n        };\n        _this.container = document.createElement(\"div\");\n        return _this;\n    }\n    Layer.prototype.mount = function (parent) {\n        _super.prototype.mount.call(this, parent, this.container);\n    };\n    Layer.prototype.unmount = function () {\n        _super.prototype.unmount.call(this, this.container);\n    };\n    Layer.prototype.syncChunks = function () {\n        var viewPort = getViewPortGamePxCoords_1.getViewPortGamePxCoords(this.visualConsts, this.layerState);\n        var viewPortTopLeftChunk = getChunkPosition_1.getChunkPosition(this.visualConsts, viewPort.topLeft);\n        var viewPortBottomRightChunk = getChunkPosition_1.getChunkPosition(this.visualConsts, viewPort.bottomRight);\n        this.removeChunksOutside(viewPortTopLeftChunk, viewPortBottomRightChunk);\n        this.createMissingChunksInside(viewPortTopLeftChunk, viewPortBottomRightChunk);\n    };\n    // TODO [RM]: temp only\n    Layer.prototype.__paintChunksRandomly = function () {\n        for (var _i = 0, _a = this.chunks; _i < _a.length; _i++) {\n            var chunk = _a[_i];\n            for (var x = 0; x < 6; x++) {\n                for (var y = 0; y < 6; y++) {\n                    chunk.fillTile(x, y, randomColor_1.randomColor());\n                }\n            }\n        }\n    };\n    Layer.prototype.removeChunksOutside = function (topLeftChunk, bottomRightChunk) {\n        for (var i = this.chunks.length - 1; i >= 0; i--) {\n            var chunk = this.chunks[i];\n            var chunkPosX = chunk.chunkSettings.position.chunksX;\n            var chunkPosY = chunk.chunkSettings.position.chunksY;\n            if (chunkPosX < topLeftChunk.chunksX ||\n                chunkPosX > bottomRightChunk.chunksX ||\n                chunkPosY < topLeftChunk.chunksY ||\n                chunkPosY > bottomRightChunk.chunksY) {\n                console.log(\">>> REMOVING CHUNK [\" + chunkPosX + \", \" + chunkPosY + \"]\");\n                this.chunks.splice(i, 1);\n            }\n        }\n    };\n    Layer.prototype.createMissingChunksInside = function (topLeftChunk, bottomRightChunk) {\n        var _loop_1 = function (chunkX) {\n            var _loop_2 = function (chunkY) {\n                var isAlready = this_1.chunks.some(function (q) { return q.chunkSettings.position.chunksX === chunkX && q.chunkSettings.position.chunksY === chunkY; });\n                if (isAlready) {\n                    return \"continue\";\n                }\n                console.log(\">>> CREATING CHUNK [\" + chunkX + \", \" + chunkY + \"]\");\n                var chunk = new Chunk_1.Chunk(this_1.visualConsts, {\n                    position: {\n                        chunksX: chunkX,\n                        chunksY: chunkY,\n                    },\n                });\n                chunk.mount(this_1.container);\n                this_1.chunks.push(chunk);\n            };\n            for (var chunkY = topLeftChunk.chunksY; chunkY < bottomRightChunk.chunksY; chunkY++) {\n                _loop_2(chunkY);\n            }\n        };\n        var this_1 = this;\n        for (var chunkX = topLeftChunk.chunksX; chunkX < bottomRightChunk.chunksX; chunkX++) {\n            _loop_1(chunkX);\n        }\n    };\n    return Layer;\n}(Mountable_1.Mountable));\nexports.Layer = Layer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getChunkPosition = void 0;\nfunction getChunkPosition(visualConsts, gamePxPosition) {\n    var chunkSize = visualConsts.chunkSize, tileSize = visualConsts.tileSize;\n    var chunkPxWidth = chunkSize.tilesWidth * tileSize.pxWidth;\n    var chunkPxHeight = chunkSize.tilesHeight * tileSize.pxHeight;\n    var gamePxX = gamePxPosition.gamePxX, gamePxY = gamePxPosition.gamePxY;\n    var chunksX = Math.floor(gamePxX / chunkPxWidth);\n    var chunksY = Math.floor(gamePxY / chunkPxHeight);\n    return {\n        chunksX: chunksX,\n        chunksY: chunksY,\n    };\n}\nexports.getChunkPosition = getChunkPosition;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getViewPortGamePxCoords = void 0;\nfunction getViewPortGamePxCoords(visualConsts, layerState) {\n    var center = layerState.center;\n    var viewPortSize = visualConsts.viewPortSize, tileSize = visualConsts.tileSize;\n    var viewPortGamePxWidth = viewPortSize.tilesWidth * tileSize.pxWidth;\n    var viewPortGamePxHeight = viewPortSize.tilesHeight * tileSize.pxHeight;\n    var topLeft = {\n        gamePxX: Math.floor(center.gamePxX - viewPortGamePxWidth / 2),\n        gamePxY: Math.floor(center.gamePxY - viewPortGamePxHeight / 2),\n    };\n    var bottomRight = {\n        gamePxX: topLeft.gamePxX + viewPortGamePxWidth,\n        gamePxY: topLeft.gamePxY + viewPortGamePxHeight,\n    };\n    return {\n        topLeft: topLeft,\n        bottomRight: bottomRight,\n    };\n}\nexports.getViewPortGamePxCoords = getViewPortGamePxCoords;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mountable = void 0;\nvar Mountable = /** @class */ (function () {\n    function Mountable() {\n    }\n    Mountable.prototype.mount = function (parent, current) {\n        if (this.parent) {\n            throw new Error(\"Already mounted\");\n        }\n        parent.appendChild(current);\n        this.parent = parent;\n        this.current = current;\n    };\n    Mountable.prototype.unmount = function (current) {\n        if (!this.parent || !this.current) {\n            return;\n        }\n        this.parent.removeChild(current);\n        this.parent = undefined;\n        this.current = undefined;\n    };\n    return Mountable;\n}());\nexports.Mountable = Mountable;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./index.scss\");\nvar Layer_1 = require(\"./visual/layer/Layer\");\nvar root = document.createElement(\"div\");\ndocument.body.appendChild(root);\nvar layer = new Layer_1.Layer({\n    tileSize: {\n        pxWidth: 128,\n        pxHeight: 128,\n    },\n    viewPortSize: {\n        tilesWidth: 6,\n        tilesHeight: 6,\n    },\n    chunkSize: {\n        tilesWidth: 6,\n        tilesHeight: 6,\n    },\n});\nlayer.mount(root);\nlayer.syncChunks();\nlayer.__paintChunksRandomly();\nconsole.log(\"Hello world\");\n"],"sourceRoot":""}